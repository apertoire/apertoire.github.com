<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Recent Content on Apertoire </title>
      <generator uri="https://gohugo.io">Hugo</generator>
    <link>http://www.apertoire.net/index.xml</link>
    <language>en-us</language>
    
    
    <updated>Sat, 08 Nov 2014 14:19:14 EST</updated>
    
    <item>
      <title>Actor-like pattern in go</title>
      <link>http://www.apertoire.net/actor-like-pattern-in-go/</link>
      <pubDate>Sat, 08 Nov 2014 14:19:14 EST</pubDate>
      
      <guid>http://www.apertoire.net/actor-like-pattern-in-go/</guid>
      <description>

&lt;p&gt;&lt;em&gt;tl;dr&lt;/em&gt; This article discusses an implementation of the actor paradigm in a go application.&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;Background&lt;/h2&gt;

&lt;p&gt;Currently, there are two well known languages that support actors: &lt;a href=&#34;http://www.erlang.org&#34;&gt;Erlang&lt;/a&gt; and &lt;a href=&#34;http://www.scala-lang.org&#34;&gt;Scala&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The core concept is that modules (actors) in your application communicate exchanging messages, which makes concurrency very easy to handle for developers.&lt;/p&gt;

&lt;p&gt;This is in contrast to thread-based concurrency (like in C++), where the developer has much more work to do to get the system working correctly.&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Mediabase&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase1.png&#34; alt=&#34;front&#34; title=&#34;front&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;I will use the Mediabase application (check my &lt;a href=&#34;http://www.apertoire.net/introducing-mediabase/&#34;&gt;previous article&lt;/a&gt;) to showcase the proposed architecture.&lt;/p&gt;

&lt;p&gt;Very shortly, Mediabase is a proof-of-concept application to catalogue a media library consisting of movies. It scans the folders you choose looking for movies, then fetches metadata from &lt;a href=&#34;www.themoviedb.org&#34;&gt;themoviedb.org&lt;/a&gt; and &lt;a href=&#34;www.omdbapi.com&#34;&gt;The OMDB API&lt;/a&gt; and presents the information in a nice web page.&lt;/p&gt;

&lt;p&gt;You can get the code &lt;a href=&#34;https://github.com/apertoire/mediabase&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Architecture&lt;/h2&gt;

&lt;p&gt;Let&amp;rsquo;s take a look at a high-level view of the code structure:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/architecture.png&#34; alt=&#34;architecture&#34; title=&#34;architecture&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;What we have here are very loosely coupled services (actors), interacting with each other by means of a system wide bus (message exchange).&lt;/p&gt;

&lt;p&gt;Each service carries a single responsibility, with the exception of the &lt;em&gt;Core&lt;/em&gt; service, which is kind of a manager, as it coordinates work between services.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s see what each service does&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Server&lt;/em&gt;: It runs the web server and communicates with the front end via a chosen protocol. In this case it&amp;rsquo;s a rest api, but could also be websockets&lt;/li&gt;
&lt;li&gt;&lt;em&gt;DAL&lt;/em&gt;: It&amp;rsquo;s in charge of the database, all db requests have to go through here&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Scanner&lt;/em&gt;: It scans the folder chosen by the user, looking for media to be collected (via regular expressions).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Scraper&lt;/em&gt;: Hits the TMDB and OMDB apis to gather metadata for the movies found by the Scanner service.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Cache&lt;/em&gt;: Once metadata is received, it downloads movie art (cover, backdrop, etc) and stores it in a local folder&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Pruner&lt;/em&gt;: Removes database media entries that are no longer present in the physical folders&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Core&lt;/em&gt;: It&amp;rsquo;s an orchestrator, directing other services to do it&amp;rsquo;s bidding.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;Implementation&lt;/h2&gt;

&lt;p&gt;So how is all of this implemented ?&lt;/p&gt;

&lt;h3 id=&#34;toc_4&#34;&gt;Basic structure&lt;/h3&gt;

&lt;p&gt;Let&amp;rsquo;s start with the &lt;em&gt;Bus&lt;/em&gt;. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/bus/bus.go&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;type Bus struct {
	...
	ImportMovies       chan *message.Status
	ImportMoviesStatus chan *message.Status

	ScanMovies  chan *message.ScanMovies
	ScrapeMovie chan *message.Movie

	MovieFound     chan *message.Movie
	MovieScraped   chan *message.Media
	MovieRescraped chan *message.Media

	ImportMoviesFinished chan int
	...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;em&gt;Bus&lt;/em&gt; struct holds the channels that are used by the services to communicate. Different types of messages are defined, based on which functionality is needed.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s check how services are built. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/scanner.go&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;type Scanner struct {
	Bus    *bus.Bus
	Config *model.Config

	re           []*helper.Rexp
	includedMask string
}

func (self *Scanner) Start() {
	mlog.Info(&amp;quot;starting scanner service ...&amp;quot;) 
	mlog.Info(&amp;quot;compiling regular expressions ...&amp;quot;)

	self.re = make([]*helper.Rexp, 0)

	for _, regex := range self.Config.MediaRegexs {
		self.re = append(self.re, &amp;amp;helper.Rexp{Exp: regexp.MustCompile(regex)})
	}

	self.includedMask = &amp;quot;.bdmv|.iso|.img|.nrg|.mkv|.avi|.xvid|.ts|.mpg|.dvr-ms|.mdf|.wmv|.ifo&amp;quot;

	go self.react()

	mlog.Info(&amp;quot;scanner service started&amp;quot;)
}

func (self *Scanner) Stop() {
	mlog.Info(&amp;quot;scanner service stopped&amp;quot;)
}

func (self *Scanner) react() {
	for {
		select {
		case msg := &amp;lt;-self.Bus.ScanMovies:
			go self.doScanMovies(msg.Reply)
		}
	}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Each service holds a reference to the &lt;em&gt;Bus&lt;/em&gt;, which is injected at creation time (we&amp;rsquo;ll see that later).&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The Start function does any required initialization, but most importantly it triggers a listening loop: the react function.&lt;/li&gt;
&lt;li&gt;The Stop function does any cleanup that may be needed.&lt;/li&gt;
&lt;li&gt;The react function uses a classic Go construct: a for/select loop.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The react function is the heart of the service: it sits there waiting for a message to arrive in order to dispatch some work.&lt;/p&gt;

&lt;h3 id=&#34;toc_5&#34;&gt;Process walkthrough&lt;/h3&gt;

&lt;p&gt;Let&amp;rsquo;s track how the import process moves along, so we get a better idea on how the services interact.&lt;/p&gt;

&lt;p&gt;It begins with &lt;em&gt;Server&lt;/em&gt; receiving an API request to import movies, which makes it run the importMovies function. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/server.go#L127&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Server) importMovies(c *gin.Context) {
	msg := message.Status{Reply: make(chan *message.Context)}
	self.Bus.ImportMovies &amp;lt;- &amp;amp;msg
	reply := &amp;lt;-msg.Reply

	c.JSON(200, &amp;amp;reply)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It creates an ImportMovies message with a reply channel on which it sits waiting. Once the response is received, it sends it back to the front end.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Core&lt;/em&gt; is listening for a message on the ImportMovies channel. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/core.go#L55&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Core) react() {
	for {
		select {
		...
		case msg := &amp;lt;-self.Bus.ImportMovies:
			go self.doImportMovies(msg)

		case msg := &amp;lt;-self.Bus.ImportMoviesStatus:
			go self.doImportMoviesStatus(msg)

		case msg := &amp;lt;-self.Bus.MovieFound:
			go self.doMovieFound(msg)

		case msg := &amp;lt;-self.Bus.MovieScraped:
			go self.doMovieScraped(msg)

		case msg := &amp;lt;-self.Bus.ImportMoviesFinished:
			go self.doImportMoviesFinished(msg)
		}
	}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It runs a finite state machine to control the flow of execution, but it basically does: (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/core.go#L110&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Core) importer(e *fsm.Event) {
	if e.Src == &amp;quot;idle&amp;quot; {
		msg := message.ScanMovies{Reply: make(chan string)}
		self.Bus.ScanMovies &amp;lt;- &amp;amp;msg
		reply := &amp;lt;-msg.Reply

		self.context.Message = reply
	}

	status, _ := e.Args[0].(*message.Status)
	status.Reply &amp;lt;- &amp;amp;self.context
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It sends a ScanMovies message and waits for a reply. When the reply is received, it is sent back to the original requestor (&lt;em&gt;Server&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;Scanner&lt;/em&gt; service is listening for the ScanMovies message. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/scanner.go#L76&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Scanner) doScanMovies(reply chan string) {
	reply &amp;lt;- &amp;quot;Movie scannning process started ...&amp;quot;

	for _, folder := range self.Config.MediaFolders {
		err := self.walker(folder)
		if err != nil {
			mlog.Info(&amp;quot;Unable to scan movies: %s&amp;quot;, err)
		}

		mlog.Info(&amp;quot;Completed scan of folder: %s&amp;quot;, folder)
	}

	self.Bus.ImportMoviesFinished &amp;lt;- 1
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The first thing it does is reply indicating that the import process has started. This message will go all the way back to the front end.&lt;/p&gt;

&lt;p&gt;It then starts walking through the media folders looking for movies.&lt;/p&gt;

&lt;p&gt;Whenever new media is found, a MovieFound message is delivered on the &lt;em&gt;Bus&lt;/em&gt;. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/scanner.go#L131&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;...
	movie := &amp;amp;message.Movie{Title: rmap[&amp;quot;Name&amp;quot;], 
				File_Title: rmap[&amp;quot;Name&amp;quot;],
				Year: rmap[&amp;quot;Year&amp;quot;],
				Resolution: resolution,
				FileType: rmap[&amp;quot;FileType&amp;quot;],
				Location: path}

	mlog.Info(&amp;quot;FOUND [%s] (%s)&amp;quot;, movie.Title, movie.Location)

	self.Bus.MovieFound &amp;lt;- movie
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;Core&lt;/em&gt; listens for the MovieFound message. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/core.go#L131&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Core) doMovieFound(movie *message.Movie) {
	c := make(chan bool)

	self.Bus.CheckMovie &amp;lt;- &amp;amp;message.CheckMovie{Movie: movie, Result: c}
	exists := &amp;lt;-c

	var text string
	if exists {
		text = fmt.Sprintf(&amp;quot;SKIPPED: present in db [%s] (%s)&amp;quot;, movie.Title, movie.Location)
		mlog.Info(text)
	} else {
		text = fmt.Sprintf(&amp;quot;FOUND: [%s] (%s)&amp;quot;, movie.Title, movie.Location)
		self.Bus.ScrapeMovie &amp;lt;- movie
	}

	self.fsm.Event(&amp;quot;found&amp;quot;, text)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It first checks that the movie is not present in the database (by sending a CheckMovie message which is answered by the &lt;em&gt;DAL&lt;/em&gt; service). If it&amp;rsquo;s not in the db, it then sends a ScrapeMovie request.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;Scraper&lt;/em&gt; service is waiting for this message: (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/scraper.go#L89&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Scraper) requestWork(movie *message.Movie) {
	mlog.Info(&amp;quot;WORK REQUESTED [%s]&amp;quot;, movie.Title)

	c := make(chan *message.Media)

	gig := &amp;amp;Gig{
		self.Bus,
		self.tmdb,
		&amp;amp;message.Media{BaseUrl: &amp;quot;&amp;quot;, SecureBaseUrl: &amp;quot;&amp;quot;, BasePath: &amp;quot;&amp;quot;, Movie: movie, Forced: false},
		c,
	}

	self.workpool.PostWork(&amp;quot;gig&amp;quot;, gig)

	media := &amp;lt;-c

	self.Bus.MovieScraped &amp;lt;- media

	mlog.Info(&amp;quot;WORK COMPLETED [%s]&amp;quot;, movie.Title)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;Scraper&lt;/em&gt; has a workpool of workers that parallelize the download of metadata from TMDB and OMDB. It starts a worker (self.workpool.PostWork) sending it a channel to reply to when it&amp;rsquo;s done.&lt;/p&gt;

&lt;p&gt;When the worker is done, &lt;em&gt;Scraper&lt;/em&gt; delivers a MovieScraped message on the bus, which is expected by &lt;em&gt;Core&lt;/em&gt;. (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/core.go#L157&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Core) doMovieScraped(media *message.Media) {
	go func() {
		mlog.Info(&amp;quot;STORING MOVIE [%s]&amp;quot;, media.Movie.Title)
		self.Bus.StoreMovie &amp;lt;- media.Movie
	}()

	go func() {
		mlog.Info(&amp;quot;CACHING MEDIA [%s]&amp;quot;, media.Movie.Title)
		media.BasePath = self.Config.DataDir
		self.Bus.CacheMedia &amp;lt;- media

		self.fsm.Event(&amp;quot;scrape&amp;quot;, media.Movie)
	}()
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;Core&lt;/em&gt; starts two goroutines to trigger two parallel messages:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;StoreMovie: so that the movie is stored in the database (this is done by the &lt;em&gt;DAL&lt;/em&gt; service)&lt;/li&gt;
&lt;li&gt;CacheMedia: so that the movie art (cover, backdrop) is downloaded and stored in a local folder (this is done by the &lt;em&gt;Cache&lt;/em&gt; service)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The front end has previously received an initial reply to the import movies API request and displayed it to the user.&lt;/p&gt;

&lt;p&gt;It then does long-polling on the server, to get a progress report. The ImportMovieStatus message is senty by &lt;em&gt;Server&lt;/em&gt; and answered by &lt;em&gt;Core&lt;/em&gt;: (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/services/core.go#L127&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func (self *Core) doImportMoviesStatus(status *message.Status) {
	status.Reply &amp;lt;- &amp;amp;self.context
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It simply sends back the current status of importing, since each message activity received by &lt;em&gt;Core&lt;/em&gt; is written to the context variable.
&lt;img src=&#34;/img/mediabase3.png&#34; alt=&#34;settings2&#34; title=&#34;settings2&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;toc_6&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Let&amp;rsquo;s wrap it up with the beginning.&lt;/p&gt;

&lt;p&gt;The whole system is started by some bootstrap code (&lt;a href=&#34;https://github.com/apertoire/mediabase/blob/master/server/boot.go&#34;&gt;source&lt;/a&gt;)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;func main() {
	config := model.Config{}
	config.Init(Version)

	bus := bus.Bus{}
	dal := services.Dal{Bus: &amp;amp;bus, Config: &amp;amp;config}
	server := services.Server{Bus: &amp;amp;bus, Config: &amp;amp;config}
	scanner := services.Scanner{Bus: &amp;amp;bus, Config: &amp;amp;config}
	scraper := services.Scraper{Bus: &amp;amp;bus, Config: &amp;amp;config}
	pruner := services.Pruner{Bus: &amp;amp;bus, Config: &amp;amp;config}
	cache := services.Cache{Bus: &amp;amp;bus, Config: &amp;amp;config}

	list := []services.Service{&amp;amp;dal, &amp;amp;scanner, &amp;amp;scraper, &amp;amp;pruner, &amp;amp;cache}
	core := services.Core{Bus: &amp;amp;bus, Config: &amp;amp;config, Services: list}

	bus.Start()
	dal.Start()
	server.Start()
	scanner.Start()
	scraper.Start()
	pruner.Start()
	cache.Start()
	core.Start()

	mlog.Info(&amp;quot;press enter to stop ...&amp;quot;)
	var input string
	fmt.Scanln(&amp;amp;input)

	core.Stop()
	cache.Stop()
	pruner.Stop()
	scraper.Stop()
	scanner.Stop()
	server.Stop()
	dal.Stop()
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Each service is created and injected with &lt;em&gt;Bus&lt;/em&gt; and &lt;em&gt;Config&lt;/em&gt;. Then each one of them is started, system waits on an input and it is then stopped.&lt;/p&gt;

&lt;h2 id=&#34;toc_7&#34;&gt;Alternatives&lt;/h2&gt;

&lt;p&gt;There are a couple of alternatives I can think of:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Make each channel buffered and don&amp;rsquo;t start a goroutine when responding to messages, so that only one activity is running on a service at any given time.&lt;/li&gt;
&lt;li&gt;Rather than a central bus, use a pubsub architecture to dispatch messages. I&amp;rsquo;m looking into this for another application I&amp;rsquo;m building, but it has the drawback that you lose static type checking, as I defined the messaging payload to be interface{}.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_8&#34;&gt;Epilogue&lt;/h2&gt;

&lt;p&gt;Hope you found the article interesting.&lt;/p&gt;

&lt;p&gt;If so, please leave your comments here, &lt;a href=&#34;https://twitter.com/apertoire_&#34;&gt;send a tweet&lt;/a&gt; or go to the &lt;a href=&#34;https://github.com/apertoire/&#34;&gt;github page&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Introducing mediabase</title>
      <link>http://www.apertoire.net/introducing-mediabase/</link>
      <pubDate>Mon, 27 Oct 2014 12:16:47 EST</pubDate>
      
      <guid>http://www.apertoire.net/introducing-mediabase/</guid>
      <description>

&lt;p&gt;&lt;em&gt;tl;dr&lt;/em&gt; &lt;strong&gt;mediabase&lt;/strong&gt; is a proof-of-concept application to catalogue a media library consisting of movies. It scans the folders you choose looking for movies, then fetch metadata from &lt;a href=&#34;www.themoviedb.org&#34;&gt;themoviedb.org&lt;/a&gt; and &lt;a href=&#34;www.omdbapi.com&#34;&gt;The OMDB API&lt;/a&gt; and present the information in a nice web page.&lt;/p&gt;

&lt;p&gt;Check the &lt;a href=&#34;https://github.com/apertoire/mediabase&#34;&gt;github page&lt;/a&gt; for binaries, source code and other general instructions.&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;Rationale&lt;/h2&gt;

&lt;p&gt;The main driver to develop this application was to increase my knowledge of the underlying technologies that power the app.&lt;/p&gt;

&lt;p&gt;I will follow up with two additional posts to go into the details of building the app: the first part about the server code and the second part about the client code.&lt;/p&gt;

&lt;p&gt;But now, let&amp;rsquo;s take a small tour to go over the features.&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;First Run&lt;/h2&gt;

&lt;p&gt;Upon first run, you are prompted to enter the folder where your movie collection is stored. This has to be a path relative to the machine where the server is running.&lt;/p&gt;

&lt;p&gt;The scanner expects the same naming convention as the one used by popular media apps such as &lt;a href=&#34;plex.tv&#34;&gt;Plex&lt;/a&gt;, &lt;a href=&#34;mediabrowser.tv&#34;&gt;MediaBrowser&lt;/a&gt;, &lt;a href=&#34;www.jriver.com&#34;&gt;JRiver Media Center&lt;/a&gt; and others.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase2.png&#34; alt=&#34;settings&#34; title=&#34;settings&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Importing media&lt;/h2&gt;

&lt;p&gt;Once you have entered a folder, click on the IMPORT button to start importing media.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase3.png&#34; alt=&#34;settings2&#34; title=&#34;settings2&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;The process will search for movies, look them up in &lt;a href=&#34;www.themoviedb.org&#34;&gt;themoviedb.org&lt;/a&gt; and &lt;a href=&#34;www.omdbapi.com&#34;&gt;The OMDB&lt;/a&gt;, collect all the metadata, store it in a database and then make them available via a web page.&lt;/p&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;Cover screen&lt;/h2&gt;

&lt;p&gt;The first screen you&amp;rsquo;ll see after import is done is the cover screen (here&amp;rsquo;s showing just a portion of the screen).&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase4.png&#34; alt=&#34;cover&#34; title=&#34;cover&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;This view shows the most recently imported movies and is the default screen when you open the app.&lt;/p&gt;

&lt;h2 id=&#34;toc_4&#34;&gt;Movie Details screen&lt;/h2&gt;

&lt;p&gt;When you click the Movies menu option, a new page is shown, with a more detailed view of the movies, where you can filter or sort by different criteria.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase5.png&#34; alt=&#34;movies&#34; title=&#34;movies&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;It shows the poster, a backdrop, running time, IMDB rating, director, actors, country, genres, resolution (if your naming structure contained a resolution field), location, last time watched (if watched) and the date it was added to the application.&lt;/p&gt;

&lt;p&gt;Additionally, it has fields where you can fix the TMDB id (if the automatic metadata fetcher picked the wrong movie) and you can set a date and rating for a movie you watched. (see the end of the article for some caveats regarding the fix TMDB id functionality).&lt;/p&gt;

&lt;p&gt;You can sort movies by different criteria, as seen below&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase6.png&#34; alt=&#34;sort&#34; title=&#34;sort&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Also, you can filter movies, by searching as you type (with a small delay to prevent too much traffic), again by different criteria&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase7.png&#34; alt=&#34;filter&#34; title=&#34;filter&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;You have to see it to believe it, it&amp;rsquo;s working pretty smooth.&lt;/p&gt;

&lt;h2 id=&#34;toc_5&#34;&gt;Tools&lt;/h2&gt;

&lt;p&gt;In addition to importing movies, you can either search for duplicates or prune movies that are no longer stored in the media folders.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Duplicates&lt;/strong&gt; works by comparing title names, it&amp;rsquo;s pretty basic at this moment.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Prune&lt;/strong&gt; deletes from the database all movies that are missing from the folder where they&amp;rsquo;re supposed to be located. Since this has the potential to wipeout precious data you&amp;rsquo;ve collected about your movie (such as watched date, you may have fixed the TMDB id, etc), you need to use it with caution (in fact, i will disable it for the first public release).&lt;/p&gt;

&lt;h2 id=&#34;toc_6&#34;&gt;About&lt;/h2&gt;

&lt;p&gt;Finally there&amp;rsquo;s a nice about page, mostly giving credit where it&amp;rsquo;s due :)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/mediabase8.png&#34; alt=&#34;about&#34; title=&#34;about&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;toc_7&#34;&gt;Caveats&lt;/h2&gt;

&lt;p&gt;There a couple of things that don&amp;rsquo;t work as I&amp;rsquo;d want them to:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;When fixing a movie via TMDB id, the information is not immediately refreshed (this will be fixed in a future release)&lt;/li&gt;
&lt;li&gt;The date field (to set a date when you watched the movie) has a picker which works fine in Chrome (Mac), but wouldn&amp;rsquo;t in Safari (Mac). I tried a cross-browser solution, but it didn&amp;rsquo;t initially work (this will be fixed in a future release)&lt;/li&gt;
&lt;li&gt;Chrome at some point in time crashes (just the page containing the app), due to memory usage. Safari churns happily along no matter what you throw at it. This has to do with the fact that I&amp;rsquo;m blindly loading pics of megabytes in size, which is certainly not optimal. (this will be addressed in a future release)&lt;/li&gt;
&lt;li&gt;General error checking (can improve it to be more robust under different scenarios)&lt;/li&gt;
&lt;li&gt;General ui validations (no empty fields when saving/fixing, etc.)&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Dockerization</title>
      <link>http://www.apertoire.net/dockeritazion/</link>
      <pubDate>Thu, 09 Jan 2014 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/dockeritazion/</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Background&lt;/h2&gt;

&lt;p&gt;so, &lt;a href=&#34;http://www.apertoire.net/storage-wars/&#34;&gt;back in 2012&lt;/a&gt; i posted about virtualizing my media storage and general backup infrastructure.&lt;/p&gt;

&lt;p&gt;today i will post about going back to bare metal &amp;hellip; well, sort of :)&lt;/p&gt;

&lt;p&gt;just a couple of days ago, &lt;a href=&#34;http://lime-technology.com/forum/index.php?topic=21514.0&#34;&gt;my setup&lt;/a&gt; was running and working mostly fine&lt;/p&gt;

&lt;p&gt;the biggest nuisance was that since i didn&amp;rsquo;t leave the unraid boxes running 24x7, each time i wanted to turn them on, i had to start the unraid vms, then turn the das boxes and finally start the array manually. kind of tedious.&lt;/p&gt;

&lt;p&gt;fast forward to 2013, esxi 5.5 is out and you start to hear that vsphere client will be crippled as far as new esxi versions are concerned.&lt;/p&gt;

&lt;p&gt;some discussions started showing up in the unraid forums, about virtualizing unraid under xen or kvm.&lt;/p&gt;

&lt;p&gt;the time was ripe for an overhaul of my infrastructure, get rid of esxi and move on to either xen or kvm. or so i thought.&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Research&lt;/h2&gt;

&lt;p&gt;although a lot of topics were being discussed in the unraid forums, something that got to me, was the fact that actually i should be running unraid as close to the hardware as possible, which meant de-virtualizing my esxi vms.&lt;/p&gt;

&lt;p&gt;at about the same time, a new player entered the scene, which i&amp;rsquo;d heard about before, but never really understood&lt;/p&gt;

&lt;p&gt;enter &lt;a href=&#34;http://www.docker.io/&#34;&gt;Docker&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;it made a huge difference to think in terms of containerized lightweight applications rather than full blown vms.&lt;/p&gt;

&lt;p&gt;i wouldn&amp;rsquo;t even need xen nor kvm, if i could get the apps i ran on my vms to run as docker containers.&lt;/p&gt;

&lt;p&gt;that&amp;rsquo;s what i set out to do, and that&amp;rsquo;s what i achieved.&lt;/p&gt;

&lt;p&gt;this is the story of what i did&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Step by Step&lt;/h2&gt;

&lt;h3 id=&#34;toc_3&#34;&gt;Devirtualize unraids&lt;/h3&gt;

&lt;p&gt;i removed 2 m1015s from my head server and installed them in two Asrock motherboards in each Norco case. I purchased the following components&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Motherboad: 2x &lt;a href=&#34;http://www.amazon.com/gp/product/B00FIWSIVS/ref=oh_details_o05_s00_i00?ie=UTF8&amp;amp;psc=1&#34;&gt;ASRock H87M PRO4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CPU: 2x &lt;a href=&#34;http://www.amazon.com/gp/product/B00EUVEFEC/ref=oh_details_o07_s00_i01?ie=UTF8&amp;amp;psc=1&#34;&gt;Intel I3-4130T&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;RAM: 1X &lt;a href=&#34;http://www.amazon.com/gp/product/B006WAGGUK/ref=oh_details_o07_s00_i00?ie=UTF8&amp;amp;psc=1&#34;&gt;Crucial Ballistix Sport 8GB Kit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;toc_4&#34;&gt;Set up the new virtualization host&lt;/h3&gt;

&lt;p&gt;installed Ubuntu 12.04.3 LTS, with zfs, docker and kvm support. hard disks were used as follows&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
    &lt;td&gt;Qty. &amp;nbsp;&lt;/td&gt;
    &lt;td&gt;Item&lt;/td&gt;
    &lt;td&gt;Filesystem/Layout&lt;/td&gt;
    &lt;td&gt;Usage&lt;/td&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
    &lt;td&gt;1x&lt;/td&gt;
    &lt;td&gt;120Gb SSD &amp;nbsp;&lt;/td&gt;
    &lt;td&gt;ext4&lt;/td&gt;
    &lt;td&gt;boot and general purpose (/home, etc.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
    &lt;td&gt;2x&lt;/td&gt;
    &lt;td&gt;2Tb HD&lt;/td&gt;
    &lt;td&gt;luks encrypted zfs mirror pool &amp;nbsp;&lt;/td&gt;
    &lt;td&gt;encrypted backup storage&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
    &lt;td&gt;2x&lt;/td&gt;
    &lt;td&gt;1.5Tb HD&lt;/td&gt;
    &lt;td&gt;zfs mirror pool&lt;/td&gt;
    &lt;td&gt;staging area for nzb downloading&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
    &lt;td&gt;1x&lt;/td&gt;
    &lt;td&gt;0.5Tb HD&lt;/td&gt;
    &lt;td&gt;zfs pool&lt;/td&gt;
    &lt;td&gt;working area for nzb downloading&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
    &lt;td&gt;4x&lt;/td&gt;
    &lt;td&gt;1Tb HD&lt;/td&gt;
    &lt;td&gt;zfs striped mirror pool&lt;/td&gt;
    &lt;td&gt;general purpose storage (databases, etc.)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;having enabled zfs, now i needed to run my apps.&lt;/p&gt;

&lt;p&gt;i managed to dockerize nzbget and filebot.&lt;/p&gt;

&lt;p&gt;sickbeard was customized based on an image from the docker index&lt;/p&gt;

&lt;h3 id=&#34;toc_5&#34;&gt;Profit&lt;/h3&gt;

&lt;p&gt;great success !!!&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/docker.png&#34; alt=&#34;docker&#34; title=&#34;docker&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/dockerimages.png&#34; alt=&#34;dockerimages&#34; title=&#34;dockerimages&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/htop.png&#34; alt=&#34;htop&#34; title=&#34;htop&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/pool1.png&#34; alt=&#34;pool1&#34; title=&#34;pool1&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/pool2.png&#34; alt=&#34;pool2&#34; title=&#34;pool2&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/zfslist.png&#34; alt=&#34;zfslist&#34; title=&#34;zfslist&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;toc_6&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;i&amp;rsquo;m currently working on a postgresql and gitlab container.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Running a Java Vert.x app on Heroku</title>
      <link>http://www.apertoire.net/running-a-java-vertx-app-on-heroku/</link>
      <pubDate>Wed, 24 Apr 2013 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/running-a-java-vertx-app-on-heroku/</guid>
      <description>

&lt;p&gt;That&amp;rsquo;s right. This is Yet Another Running Vert.x on Heroku Article !&lt;/p&gt;

&lt;p&gt;It does have some differences with regards to other articles though. Let&amp;rsquo;s see.&lt;/p&gt;

&lt;p&gt;You can check the &lt;a href=&#34;https://vaultee.herokuapp.com&#34;&gt;live app&lt;/a&gt; right now !&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;Background&lt;/h2&gt;

&lt;p&gt;Since I &lt;a href=&#34;http://www.apertoire.net/vaultee/&#34;&gt;published the code&lt;/a&gt; for a proof of concept vert.x/angularjs/bootstrap  app on &lt;a href=&#34;https://github.com/apertoire/vaultee/&#34;&gt;github&lt;/a&gt;, I considered how easy/difficult it would be to make it run on one of the popular Paas.&lt;/p&gt;

&lt;p&gt;I first considered &lt;a href=&#34;https://openshift.redhat.com/&#34;&gt;OpenShift&lt;/a&gt; due to affinity (Vert.x and RedHat have become closer lately), but finally settled on Heroku due to purely personal reasons.&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Research&lt;/h2&gt;

&lt;p&gt;I can reference back to two resources, which helped me move forward:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://fbflex.wordpress.com/2012/05/02/running-vert-x-applications-on-heroku/&#34;&gt;Running Vert.x Applications on Heroku&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://java.dzone.com/articles/setting-vertx-project-work&#34;&gt;Setting up a Vert.x Project to Work with Maven and NetBeans IDE 7.1 on OS X and Java 7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The first resource introduced me to buildpacks and the second showed me maven for app building. It was important because maven is &lt;a href=&#34;https://devcenter.heroku.com/articles/java&#34;&gt;the suggested way to run Java apps on heroku&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Step by Step&lt;/h2&gt;

&lt;p&gt;This is what I did&lt;/p&gt;

&lt;blockquote&gt;
$ mkdir myapp
$ cd myapp
&lt;/blockquote&gt;

&lt;p&gt;Copied source code from &lt;a href=&#34;https://github.com/apertoire/vaultee&#34;&gt;github&lt;/a&gt; into this folder and then initialize git&lt;/p&gt;

&lt;blockquote&gt;
$ git init&lt;br&gt;
$ git add .&lt;br&gt;
$ git commit -m &#39;initial commit&#39;
&lt;/blockquote&gt;

&lt;p&gt;Create a heroku app via cli (you need to &lt;a href=&#34;https://toolbelt.heroku.com/&#34;&gt;install heroku toolbelt&lt;/a&gt; first)&lt;/p&gt;

&lt;blockquote&gt;
$ heroku create myapp --stack cedar --buildpack https://github.com/apertoire/heroku-buildpack-vertx.git
&lt;/blockquote&gt;

&lt;p&gt;I modified the buildpack to support a java maven code structure, borrowing concepts from where &lt;a href=&#34;https://github.com/enr/heroku-buildpack-vertx&#34;&gt;it was forked&lt;/a&gt;, and from the &lt;a href=&#34;https://github.com/heroku/heroku-buildpack-java&#34;&gt;official heroku java buildpack&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You can now push your code to heroku, to deploy it&lt;/p&gt;

&lt;blockquote&gt;
$ git push heroku master
&lt;/blockquote&gt;

&lt;p&gt;Next, I needed to initialize the postgresql backend.&lt;/p&gt;

&lt;p&gt;I ended up using &lt;a href=&#34;https://github.com/ddollar/heroku-pg-transfer&#34;&gt;pg-transfer&amp;rsquo;s heroku plugin&lt;/a&gt;, after reading about &lt;a href=&#34;https://devcenter.heroku.com/articles/heroku-postgresql&#34;&gt;postgresql support in heroku&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;First, I found out the name of the postgresql database by running&lt;/p&gt;

&lt;blockquote&gt;
$ heroku config | grep postgres
&lt;/blockquote&gt;
    

&lt;p&gt;Then, the actual command to initialize the database was&lt;/p&gt;

&lt;blockquote&gt;
$ heroku pg:transfer --from postgres://dbuser:dbpassd@dbhost:dbport/dbname --to white --confirm myapp
&lt;/blockquote&gt;

&lt;p&gt;The &amp;ndash;from host is my local postgresql server.&lt;br /&gt;
The &amp;ndash;to host is the heroku postgresql instance and is referenced using heroku&amp;rsquo;s database color naming convention, since it was the only syntax that worked for me.&lt;/p&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;A Couple of Notes&lt;/h2&gt;

&lt;p&gt;In order to run your app on Heroku, they export some environment variables that you need to reference in your code, for things such as port, db host, db port, etc.&lt;/p&gt;

&lt;p&gt;So I had to refactor my code to support environment variables, which is arguably a best practice with regards to this matter.&lt;/p&gt;

&lt;p&gt;I defined and environment file, which holds this&lt;/p&gt;

&lt;blockquote&gt;
export PORT=9000&lt;br&gt;
export DATABASE_URL=postgres://dbuser:dbpass@dbhost:dbport/dbname
&lt;/blockquote&gt;

&lt;p&gt;This file is added to .gitignore. Then in server.js I did&lt;/p&gt;

&lt;pre&gt;
&lt;code&gt;
load(&#39;vertx.js&#39;);

var webConf = {
    port: parseInt(vertx.env[&#39;PORT&#39;]),

    // Configuration for the event bus client side bridge
    // This bridges messages from the client side to the server side event bus
    bridge: true,

    // This defines which messages from the client we will let through
    // to the server side
    inbound_permitted: [
        { address: &#39;load:user&#39; },
        { address: &#39;load:assets&#39; },
        { address: &#39;load:revisions&#39; },
        { address: &#39;load:items&#39; },
        { address: &#39;load:itemTypes&#39; },
        { address: &#39;save:asset&#39; },
        { address: &#39;scrape:item&#39; }
    ],
        // This defines which messages from the server we will let through to the client
    outbound_permitted: [
        {}
    ]    
};
    
&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;Heroku provides an environment variable PORT and vert.x enables access to it via vertx.env() function.&lt;/p&gt;

&lt;p&gt;As for database vars, a bit uglier&lt;/p&gt;

&lt;pre&gt;
&lt;code&gt;
var re = /^(postgres):\/\/(\S+):(\S+)@(\S+):(\S+)\/(\S+)$/;
var db = re.exec(vertx.env[&#39;DATABASE_URL&#39;]);

// logger.info(&#34;protocol: &#34; + result[1]);
// logger.info(&#34;username: &#34; + result[2]);
// logger.info(&#34;password: &#34; + result[3]);
// logger.info(&#34;address: &#34; + result[4]);
// logger.info(&#34;port: &#34; + result[5]);
// logger.info(&#34;dbname: &#34; + result[6]);

var dalConf = {
    host: db[4],
    username: db[2],
    password: db[3],
    port: parseInt(db[5]),
    dbname: db[6]
}
&lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;First we parse the DATABASE_URL variable and then use each separate component.&lt;/p&gt;

&lt;p&gt;To run the app locally, I create a shell script, play.sh&lt;/p&gt;

&lt;blockquote&gt;
source environment&lt;br&gt;
vertx run src/main/javascript/server.js -cp &#34;target/classes:target/dependency/postgresql-9.2-1002.jdbc4.jar:target/dependency/jbcrypt-0.3m.jar:target/dependency/joda-time-2.2.jar:target/dependency/jackson-databind-2.1.4.jar:target/dependency/jackson-core-2.1.4.jar:target/dependency/jackson-annotations-2.1.4.jar:target/dependency/jsoup-1.7.2.jar&#34;
&lt;/blockquote&gt;

&lt;p&gt;So I read in the environment variable and then run vert.x with server.js as the bootstrap code.&lt;/p&gt;

&lt;p&gt;On the Heroku side, I created a Procfile similar to my shell script, except for the &amp;ldquo;source environment&amp;rdquo; line, since the variables are provided by Heroku&lt;/p&gt;

&lt;blockquote&gt;
web: vertx run src/main/javascript/server.js -cp &#34;target/classes:target/dependency/postgresql-9.2-1002.jdbc4.jar:target/dependency/jbcrypt-0.3m.jar:target/dependency/joda-time-2.2.jar:target/dependency/jackson-databind-2.1.4.jar:target/dependency/jackson-core-2.1.4.jar:target/dependency/jackson-annotations-2.1.4.jar:target/dependency/jsoup-1.7.2.jar&#34;
&lt;/blockquote&gt;

&lt;p&gt;In both cases, I added all jar dependencies to the classpath, since vert.x uses URLoader to load classes at runtime and it doesn&amp;rsquo;t support wildcards.&lt;/p&gt;

&lt;p&gt;But the suggested way to package an app in vert.x is to convert it to a module, which is something I&amp;rsquo;ll look into in the future.&lt;/p&gt;

&lt;p&gt;Finally, a note on the &lt;a href=&#34;https://github.com/apertoire/heroku-buildpack-vertx&#34;&gt;Heroku buildpack&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It looks for a pom.xml file in the main folder. If found, it interprets the code as a vert.x app and starts the build process&lt;/p&gt;

&lt;p&gt;During the build, openjdk7 and vert.x are downloaded and then maven is run to download all declared dependencies and to compile java source code.&lt;/p&gt;

&lt;p&gt;Then Procfile is executed and the app is live !&lt;/p&gt;

&lt;h2 id=&#34;toc_4&#34;&gt;Next Steps&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Maybe we should use a &lt;a href=&#34;http://cliffmeyers.com/blog/2013/4/21/code-organization-angularjs-javascript&#34;&gt;different layout&lt;/a&gt; for the angularjs code of the app&lt;/li&gt;
&lt;li&gt;A followup article will showcase some of the patterns used for this proof of concept app&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>vaultee</title>
      <link>http://www.apertoire.net/vaultee/</link>
      <pubDate>Sat, 30 Mar 2013 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/vaultee/</guid>
      <description>

&lt;h2 id=&#34;toc_0&#34;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;vaultee&lt;/code&gt; is a proof of concept web app, designed to showcase mostly vert-x and angular.js capabilities.&lt;/p&gt;

&lt;p&gt;what it does, is keep track of different properties (assets) that you own, and automatically version each change performed (revisions), so you can go back in time to check.&lt;/p&gt;

&lt;p&gt;it is mostly suited to keep track of computer builds, but it can easily be extended to other kind of assets (thinking home theater setups and such).&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Rationale&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://vertx.io&#34;&gt;&lt;code&gt;Vert.x&lt;/code&gt;&lt;/a&gt; is a great framework to build web applications.&lt;/p&gt;

&lt;p&gt;Applications are built on top of verticles, which perform their duties and communicate via a message passing bus architecture, that extends all the way to the client layer.&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s a powerful concept. Concurrency is managed via an actors paradigm and message passing makes it very simple to communicate among all pieces of the software.&lt;/p&gt;

&lt;p&gt;There are similar frameworks or libraries that use the underlying concept of actors, at different levels:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.erlang.org/&#34;&gt;Erlang&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.playframework.com/&#34;&gt;Play Framework&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://code.google.com/p/retlang/&#34;&gt;Retlang&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.meteor.com/&#34;&gt;Meteor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;But I believe only vert.x allows mixing different languages to construct your application.&lt;/p&gt;

&lt;p&gt;The other main component is &lt;a href=&#34;http://www.angularjs.org/&#34;&gt;&lt;code&gt;AngularJS&lt;/code&gt;&lt;/a&gt;. It provides a framework to structure apps on the client side, greatly simplifying your code.&lt;/p&gt;

&lt;p&gt;Finally, &lt;a href=&#34;http://twitter.github.com/bootstrap/&#34;&gt;&lt;code&gt;Bootstrap&lt;/code&gt;&lt;/a&gt; and a free theme from &lt;a href=&#34;http://bootswatch.com/&#34;&gt;&lt;code&gt;bootswatch&lt;/code&gt;&lt;/a&gt;, provide the eye candy.&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Source Code&lt;/h2&gt;

&lt;p&gt;The code is alpha level, and I&amp;rsquo;m looking forward to get it reviewed by people more experienced than me.&lt;/p&gt;

&lt;p&gt;Please do send comments and pull requests !&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://github.com/apertoire/vaultee&#34;&gt;It&amp;rsquo;s available at Github&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;Screenshots&lt;/h2&gt;

&lt;p&gt;Home page, after login, showing all existing assets&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/all.png&#34; alt=&#34;homepage listing all assets&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Displaying one of the assets (currently on revision 2)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/assetview.png&#34; alt=&#34;display one asset&#34; /&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>12D78</title>
      <link>http://www.apertoire.net/12D78/</link>
      <pubDate>Fri, 15 Mar 2013 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/12D78/</guid>
      <description>&lt;p&gt;so, it&amp;rsquo;s been quite a while now since my last update with regards to my hackintosh, old trusted blackbeard.&lt;/p&gt;

&lt;p&gt;i have to tell you &amp;hellip; it&amp;rsquo;s killing me the fact that sleep isnt working &amp;hellip; whenever i shutdown and come online again, i have to rearrange most of the windows in their corresponding workspace (i have 6 workspaces).&lt;/p&gt;

&lt;p&gt;but that&amp;rsquo;s &lt;em&gt;literally&lt;/em&gt; NOTHING compared to the fact that the whole system freezes, due to some god forsaken nvidia drivers for my gtx 660ti &amp;hellip; no incantation i tried made any difference &amp;hellip; and there are plenty of reports about this even on the official apple support forums (with regards to macbook pros and such).&lt;/p&gt;

&lt;p&gt;On March 14, 2013, Apple release 10.8.3 &amp;hellip; i&amp;rsquo;m expecting a lot from this update (since beta testers/developers were asked to specifically look for graphics upgrades).&lt;/p&gt;

&lt;p&gt;i hope my freeze problems are a thing of the past.&lt;/p&gt;

&lt;p&gt;i&amp;rsquo;m also trying to help a little with regards to the sleeping issue, by upgrading my system definition to macpro 5,1 &amp;hellip; supposedly 5,1 handle sleeping better than 3,1&lt;/p&gt;

&lt;p&gt;on the other hand, i was reading in zite today that 10.8.3 fixed some sleeping issues in macbook pro retinas !!! wtff !!!! (what the flying f&amp;hellip; !!!)&lt;/p&gt;

&lt;p&gt;so i have to assume the following scenarios will eventually take place&lt;/p&gt;

&lt;p&gt;&lt;uL&gt;
    &lt;li&gt;upgrading to 10.8.3 fixes the nvidia driver issues. all is good&lt;/li&gt;
    &lt;li&gt;upgrading to 10.8.3 doesn&amp;rsquo;t fix sheet, so i&amp;rsquo;m back to square one&lt;/li&gt;
    &lt;li&gt;driver fixed, i have to fix sleep issues &amp;hellip; there are several alternatives to look into for the sleeping issue: applehpa.kext &amp;hellip; kill it !&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;

&lt;p&gt;all things considered, blackbeard is so awesome !&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>moving to github pages</title>
      <link>http://www.apertoire.net/moving-to-github-pages/</link>
      <pubDate>Sun, 03 Mar 2013 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/moving-to-github-pages/</guid>
      <description>&lt;p&gt;it all started when i started considering the deployment of the &lt;a href=&#34;vertx.io&#34;&gt;vert.x&lt;/a&gt; app i&amp;rsquo;m working on.&lt;/p&gt;

&lt;p&gt;i will deploy to &lt;a href=&#34;openshift.redhat.com&#34;&gt;OpenShift&lt;/a&gt;, but i will also open source the code through &lt;a href=&#34;github.com&#34;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;so, when i was analyzing how to transfer the code over, i came across &lt;a href=&#34;pages.github.com&#34;&gt;Github Pages&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;i already had two sites:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;apertoire.net (hosted on &lt;a href=&#34;rackspace.com&#34;&gt;Rackspace&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;apertoire.tumblr.com (hosted on &lt;a href=&#34;tumblr.com&#34;&gt;Tumblr&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;the rackspace site held a wordpress blog and some software products i&amp;rsquo;ve developed over the years.&lt;/p&gt;

&lt;p&gt;i started the tumblr site when &lt;a href=&#34;apertoire.net/why-i-m-switching-to-mac-osx/&#34;&gt;i dove into mac osx&lt;/a&gt; and there i chronicled some other infrastructure endeavours.&lt;/p&gt;

&lt;p&gt;when i started digging into the whole github pages, i found out about custom domains and read a lot of articles about people switching from any blog framework to github pages.&lt;/p&gt;

&lt;p&gt;in my case, it makes a lot of sense as well:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;streamlined content creation and publishing (all i need is a text editor and git)&lt;/li&gt;
&lt;li&gt;no more messing around with wordpress&lt;/li&gt;
&lt;li&gt;no more maintenance of the hosted box (no more watching out for ubuntu updates)&lt;/li&gt;
&lt;li&gt;no more hosting fees !!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;the hosting fees aren&amp;rsquo;t really that much (about $12 per month), but in the end all savings add up.&lt;/p&gt;

&lt;p&gt;for the record, my custom domain transitions was done following instructions on &lt;a href=&#34;https://help.github.com/articles/setting-up-a-custom-domain-with-pages&#34;&gt;setting up a custom domain with pages&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;on my dns registrar (&lt;a href=&#34;namecheap.com&#34;&gt;Namecheap&lt;/a&gt;), it went down like this&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;/img/dns.png&#34; alt=&#34;change a and cname records&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;my mail hosting is done via google, so i used namecheap&amp;rsquo;s option to &amp;ldquo;Automatically set MX records necessary for &lt;strong&gt;Google Apps Email&lt;/strong&gt;&amp;ldquo;&lt;/p&gt;

&lt;p&gt;dns propagation already happened for me (i did this about an hour ago), so it should be a smooth transtion all things considered.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>hotfix 2</title>
      <link>http://www.apertoire.net/hotfix-2/</link>
      <pubDate>Mon, 06 Aug 2012 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/hotfix-2/</guid>
      <description>&lt;p&gt;i&amp;rsquo;ve built my esxi box (skynet) &amp;hellip; find some additional info at &lt;a href=&#34;http://lime-technology.com/forum/index.php?topic=21514.0&#34; title=&#34;skynet + hal &amp;amp; wopr (esxi head + 2 unraid das)&#34; target=&#34;_blank&#34;&gt;the unraid forums&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;something i wanted to document. the command sequence to share the encrypted zfs filesystem after boot is&lt;/p&gt;

&lt;blockquote&gt;sudo zfs mount -a (asks for the passphrase) &lt;br/&gt;
sudo zfs set share=name=export_backup,path=/export/backup,prot=nfs backup/data 
&lt;/blockquote&gt;

&lt;p&gt;the latter command is based on my setup
also, oracle recently published an article on &lt;a href=&#34;http://www.oracle.com/technetwork/articles/servers-storage-admin/manage-zfs-encryption-1715034.html&#34;&gt;How to manage ZFS Data Encryption&lt;/a&gt;, with more details about zfs data encryption.&lt;/p&gt;

&lt;p&gt;i haven&amp;rsquo;t processed it yet, but it&amp;rsquo;s worth a read&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>hotfix 1</title>
      <link>http://www.apertoire.net/hotfix-1/</link>
      <pubDate>Mon, 07 May 2012 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/hotfix-1/</guid>
      <description>&lt;p&gt;well, i need to add a couple of comments after my last post&lt;/p&gt;

&lt;p&gt;i deliberately chose to create the zfs dataset with a passphrase encryption method. as per solaris docs, this means it can&amp;rsquo;t mount it at boot time. the best practice would be a boot time prompt (a la TrueCrypt in windows), but until that time comes, i will live with loading after booting, using the following:&lt;/p&gt;

&lt;blockquote&gt;
sudo zfs mount -a
sudo zfs set share tank/backup
&lt;/blockquote&gt;

&lt;p&gt;here seems to be a better way by doing zfs set key -l, but docs are scarce&lt;/p&gt;

&lt;p&gt;you can check whether the folder is nfs exported by doing:&lt;/p&gt;

&lt;blockquote&gt;
showmount -e
&lt;/blockquote&gt;

&lt;p&gt;if you were to run crashplan on the zfs box, i would have to think that since the folder is empty upon boot, crashplan would detect it as deleted files. i need to investigate a bit further&lt;/p&gt;

&lt;p&gt;on the mac side, the disk utility method to mount the nfs export is not working correctly &amp;hellip; i resorted to&lt;/p&gt;

&lt;blockquote&gt;
mount_nfs zfsbox:/export/Backup /local_mountpoint
&lt;/blockquote&gt;

&lt;p&gt;this shows the mountpoint from the finder correctly &lt;a href=&#34;http://help.bombich.com/discussions/questions/3459-cloningcopying-to-or-from-an-nfs-share&#34;&gt;check some discussion about it here&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>oh solaris mio !</title>
      <link>http://www.apertoire.net/oh-solaris-mio/</link>
      <pubDate>Mon, 07 May 2012 11:11:11 UTC</pubDate>
      
      <guid>http://www.apertoire.net/oh-solaris-mio/</guid>
      <description>&lt;p&gt;so the plan is as follows:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;build a zfs box, with a two drive mirror pool&lt;/li&gt;
&lt;li&gt;rsync data from blackeard (my hackintosh mac) to the zfs box&lt;/li&gt;
&lt;li&gt;snaphot the zfs filesystem (full and incrementals)&lt;/li&gt;
&lt;li&gt;crashplan the backup to the cloud&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;this basically gives me a two factor backup scenario: time machine-like fast access (without all the storage wasting that time machine does, on the zfs box) and offsite more secure storage (crashplan pro on the cloud)&lt;/p&gt;

&lt;p&gt;so let&amp;rsquo;s start with my test setup&lt;/p&gt;

&lt;p&gt;download &lt;a href=&#34;http://www.oracle.com/technetwork/server-storage/solaris11/downloads/index.html&#34;&gt;Solaris 11 &lt;sup&gt;11&lt;/sup&gt;&amp;frasl;&lt;sub&gt;11&lt;/sub&gt;&lt;/a&gt; (you have to create an oracle account .. shrugs)&lt;/p&gt;

&lt;p&gt;install Solaris on a VirtualBox VM (chose VMDK as format, since it will be easier to transfer to ESXi)&lt;/p&gt;

&lt;p&gt;the first snag is related to NFSv4 &amp;hellip; although it&amp;rsquo;s supposed to do uid mapping, &lt;a href=&#34;http://dfusion.com.au/wiki/tiki-index.php?page=Why+NFSv4+UID+mapping+breaks+with+AUTH_UNIX&#34;&gt;it actually doesn&amp;rsquo;t&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;the first time i installed solaris i didn&amp;rsquo;t change the uid for my replica solaris user (same user as my mac box).&lt;/p&gt;

&lt;p&gt;so i installed again, but &amp;hellip; solaris 11 won&amp;rsquo;t allow root logins, not even via console. so i did the easiest thing possible, which is to enable root logins back &lt;a href=&#34;http://candon123.blog.51cto.com/704299/712206&#34;&gt;more info here&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
root@zfsbox# rolemod -K type=normal root
&lt;/blockquote&gt;

&lt;p&gt;so now drop to the root shell (su - won&amp;rsquo;t work) and do
&lt;blockquote&gt;
usermod -u &amp;lt;new uid&amp;gt; username
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.unix.com/solaris/183739-changing-uid-value.html&#34;&gt;here&amp;rsquo;s a link that gave me the idea on how to do this&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;new uid&amp;gt; should be the same uid as the user in the mac box.&lt;/p&gt;

&lt;p&gt;while on the root shell, do
&lt;blockquote&gt;
cd /home&lt;/p&gt;

&lt;p&gt;chown -R &amp;lt;username&amp;gt;:&amp;lt;group&amp;gt; &amp;lt;username&amp;gt;
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;ok now solaris is installed. one of the first things i do with any new *nix box is setup public/private key ssh
&lt;blockquote&gt;
&lt;span&gt;$ ssh-keygen -t rsa&lt;/span&gt;
&lt;span&gt;$ cat ~/.ssh/id_rsa.pub | ssh user@machine &amp;ldquo;mkdir ~/.ssh; cat &amp;gt;&amp;gt; ~/.ssh/authorized_keys&amp;rdquo;&lt;br /&gt;&lt;/span&gt;
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;could have use ssh-copy-id, but osx doesn&amp;rsquo;t have it by default and i&amp;rsquo;m too lazy to install it &lt;a href=&#34;http://www.commandlinefu.com/commands/view/188/copy-your-ssh-public-key-to-a-server-from-a-machine-that-doesnt-have-ssh-copy-id&#34;&gt;credits for the cat/ssh technique&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;now you have to edit /etc/ssh/sshd_config to disable password logins&lt;/p&gt;

&lt;p&gt;ok so we can ssh into the solaris box &amp;hellip; let&amp;rsquo;s build the backup pool&lt;/p&gt;

&lt;p&gt;i previously created two 51Gb virtual disks in VirtualBox, it&amp;rsquo;s time to use them
&lt;blockquote&gt;
user@zfsbox$ format
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;this shows the name of the disks. now let&amp;rsquo;s create the pool
&lt;blockquote&gt;
user@zfsbox$ sudo zpool create tank mirror c3t2d0 c3t3d0
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;now the filesystem, which crashplan will back up
&lt;blockquote&gt;
user@zfsbox$ sudo zfs create -o atime=off -o mountpoint=/export/backup -o sharenfs=on -o compression=on -o encryption=aes-256-ccm tank/backup
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;by default, zfs creates the /export/backup mount point with root:root ownership. make it writable for your user
&lt;blockquote&gt;
user@zfsbox$ sudo chown -R &amp;lt;username&amp;gt;:&amp;lt;groupname&amp;gt; /export/backup
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;now, you can rsync from mac to zfs
&lt;blockquote&gt;
user@macbox$ rsync -avn &amp;ndash;progress -e ssh ~/Storage user@zfsbox:/export/backup
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;you should be all set now, watching your /export/backup folder having grown with your backup data.&lt;/p&gt;

&lt;p&gt;something else &amp;hellip; in order to watch that data through nfs&lt;/p&gt;

&lt;p&gt;go to disk utility, in the menu choose nfs mounts &amp;hellip; and add the nfs mountpoint, pay special attention to the advanced mount options, should be something like this
&lt;blockquote&gt;
resvport,vers=4,nolocks,locallocks,intr,soft,wsize=32768,rsize=32768
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;next up, we&amp;rsquo;ll work with the zfs snapshots, try to come up a script that automates the rsyncing and the snapshot creation and send it all up to crashplan&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>storage wars</title>
      <link>http://www.apertoire.net/storage-wars/</link>
      <pubDate>Sun, 06 May 2012 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/storage-wars/</guid>
      <description>&lt;p&gt;i&amp;rsquo;m currently running an &lt;a href=&#34;http://lime-technology.com&#34;&gt;unRaid&lt;/a&gt; server, which hosts my media collection  (movies, tv series, music, pictures and data backups)&lt;/p&gt;

&lt;p&gt;but, i&amp;rsquo;m running out of space on the server (currently 31.69TB used out of 32.51TB available)&lt;/p&gt;

&lt;p&gt;so i started looking for options on how to expand my capacity and decided on adding a second unRaid server, virtualizing both unRaids in an ESXi 5 head server and putting the disks on two DAS boxes (discussions at &lt;a href=&#34;http://lime-technology.com/forum/index.php?topic=14521.0&#34;&gt;two unraid servers&lt;/a&gt;, &lt;a href=&#34;http://lime-technology.com/forum/index.php?topic=14695.0&#34;&gt;atlas: a virtualized unraid&lt;/a&gt;, &lt;a href=&#34;http://www.servethehome.com/sas-expanders-diy-cheap-low-cost-jbod-enclosures-raid/&#34;&gt;building a jbod das&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;at some point during that span of time, zfs came up. i researched as much as i could and finally found this enlightening thread: &lt;a href=&#34;http://forum.xbmc.org/showthread.php?tid=82811&amp;amp;amp;page=17&#34;&gt;Freenas vs unRaid&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;my take on this whole storage wars is that each solution has its merits and my plan changed slightly&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;continue with the virtualized + das boxes unraid setup&lt;/li&gt;
&lt;li&gt;add a virtualized zfs implementation to backup my osx data&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;the idea is that unRaid is much better suited to hold an expanding media collection, where i can add drives when needed and keep having one parity disk to protect the array. under zfs, every drive (or more precisely every vdev) would hit me with a parity space penalty&lt;/p&gt;

&lt;p&gt;in my next posts, i will write down my zfs test scenario, while i wait for the parts of my all-encompassing ESXi build&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>windows 8 consumer preview</title>
      <link>http://www.apertoire.net/windows-8-consumer-preview/</link>
      <pubDate>Thu, 08 Mar 2012 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/windows-8-consumer-preview/</guid>
      <description>&lt;p&gt;i think it&amp;rsquo;s relevant to post some of the media sentiment about the latest iteration of windows 8.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.winsupersite.com/article/windows8/windows-8-consumer-preview-sense-142496&#34;&gt;Paul Thurrott (of winsupersite.com fame)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.askwoody.com/2012/windows-veteran-windows-8-consumer-preview/&#34;&gt;Woody Leonhard (of askwoody.com fame)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>if it ain&#39;t broken, don&#39;t fix it ?</title>
      <link>http://www.apertoire.net/if-it-ain-t-broken-don-t-fix-it/</link>
      <pubDate>Thu, 23 Feb 2012 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/if-it-ain-t-broken-don-t-fix-it/</guid>
      <description>&lt;p&gt;A nice article about upcoming Windows 8 was posted by James Kendrick at ZDNet &amp;hellip; &lt;a href=&#34;http://www.zdnet.com/blog/mobile-news/what-problem-does-windows-8-solve/6856&#34;&gt;What problem does Window 8 solve ?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I find the new logo kind of hideous :)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>baby steps</title>
      <link>http://www.apertoire.net/baby-steps/</link>
      <pubDate>Sat, 31 Dec 2011 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/baby-steps/</guid>
      <description>

&lt;p&gt;above is a screenshot of my current setup :)&lt;/p&gt;

&lt;p&gt;it&amp;rsquo;s an awesome experience so far.&lt;/p&gt;

&lt;p&gt;i have pretty much moved my daily operation to this machine. added two drives, one for music, the other as a staging area between my downloading machine and my unraid server (since i do some manipulation on the files i get).&lt;/p&gt;

&lt;p&gt;these are the apps i generally use&lt;/p&gt;

&lt;h3 id=&#34;toc_0&#34;&gt;BROWSER&lt;/h3&gt;

&lt;p&gt;chrome is very lightweight here, and i haven&amp;rsquo;t seen it crash yet. opera is pretty good as well, firefox consumes a lot of memory and safari, i didn&amp;rsquo;t quite try&lt;/p&gt;

&lt;h3 id=&#34;toc_1&#34;&gt;MUSIC&lt;/h3&gt;

&lt;p&gt;i&amp;rsquo;m evaluating different music players&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.instinctiv.com&#34;&gt;instinctiv (free)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.audirvana.com&#34;&gt;audirvana (free)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.voxapp.didgeroo.com/&#34;&gt;vox (free)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://sbooth.org/Decibel/&#34;&gt;decibel (paid)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;toc_2&#34;&gt;MOVIES&lt;/h3&gt;

&lt;p&gt;i&amp;rsquo;ve pretty much settled on &lt;a href=&#34;http://www.mplayerosx.ch/&#34;&gt;MPlayer OSX Extended&lt;/a&gt; for movies&lt;/p&gt;

&lt;h3 id=&#34;toc_3&#34;&gt;IMAGES&lt;/h3&gt;

&lt;p&gt;had to install &lt;a href=&#34;http://www.xnview.com&#34;&gt;xnview&lt;/a&gt;, didn&amp;rsquo;t quite find the same functionality in other apps.&lt;/p&gt;

&lt;h2 id=&#34;toc_4&#34;&gt;the good&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;having unix underpinnings is just huge. i&amp;rsquo;m a developer so it&amp;rsquo;s so great to be able to do unix stuff at the terminal &lt;a href=&#34;http://www.iterm2.com&#34;&gt;iTerm 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;installing applications either from the mac app store or downloaded from the internet is so cool and simple&lt;/li&gt;
&lt;li&gt;the general awesomeness of it all.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_5&#34;&gt;the bad&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;im using a pc keyboard, so i&amp;rsquo;m still getting used to the shortcuts&lt;/li&gt;
&lt;li&gt;i haven&amp;rsquo;t found a replacement for 7zip. keka is just not there for me.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_6&#34;&gt;the ugly&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;FINDER&lt;/em&gt; &amp;hellip; i find it cumbersome to use &amp;hellip; to perform simple operations i need a ton of windows open and then use some keyboard shortcuts &amp;hellip; i&amp;rsquo;ve installed &lt;a href=&#34;http://www.mucommander.com&#34;&gt;muCommander&lt;/a&gt;, &lt;a href=&#34;http://www.magicansoft.com&#34;&gt;magican file&lt;/a&gt;, &lt;a href=&#34;http://www.cocoatech.com&#34;&gt;path finder&lt;/a&gt;, &lt;a href=&#34;http://totalfinder.binaryage.com/&#34;&gt;total finder&lt;/a&gt; &amp;hellip; but not decided yet what to use &amp;hellip; then there are like a ton of views in finder .. and none seems really useful to me 8)&lt;/p&gt;

&lt;p&gt;but overall, i&amp;rsquo;m impressed and love my hackmac !&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>blackbeard</title>
      <link>http://www.apertoire.net/blackbeard/</link>
      <pubDate>Sat, 24 Dec 2011 23:23:23 UTC</pubDate>
      
      <guid>http://www.apertoire.net/blackbeard/</guid>
      <description>&lt;p&gt;i&amp;rsquo;m writing this from blackbeard, my hackintosh mac.&lt;/p&gt;

&lt;p&gt;i was able to build this machine and have it working flawlessy under OSX Lion, mainly due to &lt;a href=&#34;tonymacx86.blogspot.com&#34;&gt;tonymacx86&amp;rsquo;s excellent site&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;two articles showed me in detail how to build the machine&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://tonymacx86.blogspot.com/2011/11/building-sandy-bridge-customac-buyers.html&#34;&gt;Building a Sandy Bridge CustoMac: Buyer&amp;rsquo;s Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://tonymacx86.blogspot.com/2011/10/unibeast-install-mac-os-x-lion-using.html&#34;&gt;UniBeast: Install Mac OS X Lion Using an All-In-One Bootable USB Drive&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;i chose the following specs for my mac:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;case: &lt;a href=&#34;http://www.amazon.com/&#34;&gt;Corsair Obsidian 650D&lt;/a&gt;&lt;/li&gt;&lt;/li&gt;
&lt;li&gt;mobo: &lt;a href=&#34;http://www.amazon.com/gp/product/B0054OWTQU/ref=as_li_ss_tl?ie=UTF8&amp;amp;amp;tag=tonymacx86com-20&#34;&gt;Gigabyte GA-Z68XP-UD3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;cpu: &lt;a href=&#34;http://www.amazon.com/gp/product/B004EBUXHQ?ie=UTF8&amp;amp;amp;tag=tonymacx86com-20&#34;&gt;Intel Core i5-2500K&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ram: &lt;a href=&#34;http://www.amazon.com/gp/product/B004RFBIUU/ref=as_li_ss_tl?ie=UTF8&amp;amp;amp;tag=tonymacx86com-20&#34;&gt;Corsair 1600MHZ DDR3 16GB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;gpu: &lt;a href=&#34;http://www.amazon.com/gp/product/B004F6GJAU/ref=as_li_ss_tl?ie=UTF8&amp;amp;amp;tag=tonymacx86com-20&#34;&gt;AMD Radeon HD 6850&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;power supply: &lt;a href=&#34;http://www.amazon.com/gp/product/B002LVUPZQ/ref=as_li_ss_tl?ie=UTF8&amp;amp;amp;tag=tonymacx86com-20&#34;&gt;Corsair 650 watts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ssd: &lt;a href=&#34;http://www.amazon.com/OCZ-Technology-Nocti-mSATA-NOC-MSATA-60G/dp/B005FYFV3W&#34;&gt;OCZ Nocti Series 60GB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;hard disk: &lt;a href=&#34;http://www.amazon.com/Western-Digital-Caviar-Desktop-WD10EARS/dp/B002U1N95K/ref=sr_1_5?s=electronics&amp;amp;amp;ie=UTF8&amp;amp;amp;qid=1324784170&amp;amp;amp;sr=1-5&#34;&gt;Western Digital 1TB EARS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;the keyboard, mouse and display come from my previous pc rig.&lt;/p&gt;

&lt;p&gt;with this hardware and following the instructions on tonymacx86&amp;rsquo;s blog, i had no problem installing OSX Lion and everything is working properly.&lt;/p&gt;

&lt;p&gt;to be honest, i have installed lion about 20 times, looking for the best setup possible.&lt;/p&gt;

&lt;p&gt;i had two main drivers:&lt;/p&gt;

&lt;ol&gt;
    &lt;li&gt;use the hard disk for bulk storage, that&#39;s where the data should reside&lt;/li&gt;
    &lt;li&gt;encrypt my system so that no prying eyes can get a hold of my data&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;the first objective was kind of easy to achieve, but i really struggled with the second.&lt;/p&gt;

&lt;p&gt;i&amp;rsquo;m using truecrypt in my pc, and since there&amp;rsquo;s a version published for the mac, i thought it would be a breeze to install and setup.&lt;/p&gt;

&lt;p&gt;it turned out that mac support is very limited in truecrypt. there is no system encryption or full disk encryption for that matter. additionally, it&amp;rsquo;s really cumbersome the mounting of an encrypted volume under osx.&lt;/p&gt;

&lt;p&gt;i went through several iterations of a setup with truecrypt. in the last one, i had an encrypted device partition on the hard disk, but every reboot was painful since (even with an automator script), i had to enter two passwords (the partition and my user&amp;rsquo;s).&lt;/p&gt;

&lt;p&gt;in the meantime, i was toying around with filevault. at first it didnt work because it needs a recovery hd partition, which isnt created during install on a hackintosh.&lt;/p&gt;

&lt;p&gt;i managed to manually create a recovery hd and got to turn on filevault, but then it wouldn&amp;rsquo;t boot (something to do with a real mac&amp;rsquo;s firmware not being present).&lt;/p&gt;

&lt;p&gt;so i was almost contemplating a life of two-password-insert-on-reboot, until i came around &lt;a href=&#34;https://agilebits.com/knox&#34;&gt;AgileBits Knox&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;i installed it, toyed around with it a bit &amp;hellip; and then &amp;hellip; i figured i could run filevault manually from the command line
two sites were invaluable on getting this to work:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.red-sweater.com/blog/1935/lions-whole-disk-encryption&#34;&gt;Lion&amp;rsquo;s Whole Disk Encryption&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/jridgewell/Unlock&#34;&gt;Unlock&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;so i can&amp;rsquo;t encrypt my startup disk (ssd), but i can encrypt my hard disk.&lt;/p&gt;

&lt;p&gt;and i moved my /Users folder to the hard disk, so i don&amp;rsquo;t occupy precious ssd space.&lt;/p&gt;

&lt;p&gt;thinks look good so far !&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>